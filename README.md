# 代码优化

**提示词：**  
请遵循以下准则优化 C++ 代码，使其代码风格优雅，易于理解，并具备良好的扩展性。优化的代码应满足以下条件：

1. **C++14 标准：** 代码应符合 C++14 标准，避免使用超出此标准的特性，且保持现代 C++ 的优势，如 `auto`、智能指针、范围循环等。

2. **简洁清晰：** 保持逻辑简洁明了，避免冗余代码。去除重复逻辑，将类似逻辑统一。

3. **命名规范：** 采用描述性命名，确保变量和函数名能清晰表达其用途。

4. **避免过度封装：** 不增加新函数或类，保持现有代码结构。在现有函数内优化逻辑，提升可读性和扩展性。

5. **减少嵌套：** 尽量减少嵌套层次，通过提早返回（early return）等技巧提升代码可读性。

6. **优雅的错误处理：** 使用 `assert`、`try-catch`、`nullptr` 检查等适当的错误处理机制，确保程序的健壮性和错误信息的可读性。

7. **智能指针**：如果存在动态内存分配，使用 `std::unique_ptr` 或 `std::shared_ptr` 替代原生指针，以避免内存泄漏。

8. **STL 容器与算法：** 优先使用 STL 提供的容器和算法来简化代码逻辑，减少手动管理的复杂性。

9. **注重可扩展性：** 确保代码结构清晰，便于将来扩展。可以通过注释为可能的扩展点预留位置。

10. **注重日志输出完整性:** 确保代码日志输出完整性，可以通过日志简单易懂理解代码如果出现bug后快速定位问题。

```
code
```
